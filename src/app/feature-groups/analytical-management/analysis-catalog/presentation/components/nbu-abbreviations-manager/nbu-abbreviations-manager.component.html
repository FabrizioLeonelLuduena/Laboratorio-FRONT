<div class="abbreviations-manager">
  <!-- Add Abbreviations Section -->
  <div class="add-section">
    <div class="add-header">
      <i class="pi pi-plus-circle"></i>
      <span class="section-title">Agregar Abreviaturas</span>
    </div>

    <div class="add-controls">
      <div class="chips-wrapper">
        <p-chips
          [(ngModel)]="newAbbreviations"
          placeholder="Escriba una abreviatura y presione Enter"
          [addOnBlur]="true"
          [addOnTab]="true"
          [allowDuplicate]="false"
          separator=","
          styleClass="w-full">
        </p-chips>
        <small class="hint">
          <i class="pi pi-info-circle"></i>
          Escriba una abreviatura y presione Enter, Tab o coma para agregar m√∫ltiples
        </small>
      </div>

      <p-button
        label="Agregar"
        icon="pi pi-plus"
        [disabled]="!hasNewAbbreviations()"
        (onClick)="onAdd()"
        severity="success"
        styleClass="add-button">
      </p-button>
    </div>
  </div>

  <p-divider />

  <!-- Current Abbreviations Section -->
  <div class="current-section">
    <div class="current-header">
      <i class="pi pi-bookmark"></i>
      <span class="section-title">Abreviaturas Actuales</span>
      <span class="count-badge">{{ currentAbbreviations().length }}</span>
    </div>

    @if (currentAbbreviations().length === 0) {
      <div class="empty-state">
        <i class="pi pi-inbox"></i>
        <p class="empty-message">No hay abreviaturas definidas</p>
        <p class="empty-hint">Use el campo de arriba para agregar abreviaturas</p>
      </div>
    } @else {
      <div class="abbreviations-grid">
        @for (abbreviation of currentAbbreviations(); track abbreviation) {
          <div class="abbreviation-item">
            <i class="pi pi-bookmark"></i>
            <span class="abbreviation-text">{{ abbreviation }}</span>
            <button
              pButton
              icon="pi pi-times"
              [rounded]="true"
              [text]="true"
              severity="danger"
              size="small"
              (click)="onRemove(abbreviation)"
              class="remove-btn">
            </button>
          </div>
        }
      </div>
    }
  </div>
</div>
