<div class="nbu-version-list-container">
  <div class="sticky-wrapper">
    <div class="search-bar">
      <input pInputText type="text" [(ngModel)]="searchTerm" placeholder="Buscar versión..." />
    </div>

    <div class="versions-list">
      @if (isLoading) {
        <div class="loading-container">
          <app-spinner [label]="'Cargando versiones…'" [overlay]="false"></app-spinner>
        </div>
      }

      @if (!isLoading && filteredVersions.length === 0) {
        <div class="no-results">
          <p>No se encontraron versiones</p>
        </div>
      }

      @for (version of filteredVersions; track version.id) {
        <div class="version-item" [class.selected]="isSelected(version)" (click)="selectVersion(version)">
          <span class="version-code">{{ version.versionCode }}</span>
          <span class="version-detail">Año: {{ version.publicationYear ?? '—' }}</span>
        </div>
      }
    </div>
  </div>
</div>