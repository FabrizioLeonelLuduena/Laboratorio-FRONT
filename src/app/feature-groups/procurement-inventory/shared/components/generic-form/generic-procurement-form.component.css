/* Estilos personalizados para el formulario genérico de procurement-inventory */

/* ========================================
   LAYOUT PRINCIPAL - Responsivo y Sticky
   ======================================== */

.generic-procurement-form-wrapper {
  display: flex;
  flex-direction: column;
  height: 100%;
  width: 100%;
  overflow: hidden;
}

.form-container {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

.form-layout {
  display: flex;
  flex-direction: column;
  height: 100%;
  overflow: hidden;
}

/* Contenido scrolleable - ocupa todo el espacio disponible */
.form-content-scrollable {
  flex: 1;
  overflow: hidden auto;
  padding: 1rem;

  /* Scrollbar styling */
  scrollbar-width: thin;
  scrollbar-color: #cbd5e0 #f7fafc;
}

.form-content-scrollable::-webkit-scrollbar {
  width: 8px;
}

.form-content-scrollable::-webkit-scrollbar-track {
  background: #f7fafc;
}

.form-content-scrollable::-webkit-scrollbar-thumb {
  background-color: #cbd5e0;
  border-radius: 4px;
}

.form-content-scrollable::-webkit-scrollbar-thumb:hover {
  background-color: #a0aec0;
}

/* Espacio entre secciones */
.section-card {
  margin-bottom: 1rem;
}

.section-card:last-child {
  margin-bottom: 0;
}

/* Botones sticky en el footer */
.form-actions-sticky {
  flex-shrink: 0;
  background-color: #fff;
  border-top: 1px solid #e5e7eb;
  padding: 0.875rem 1rem;
  box-shadow: 0 -2px 8px rgb(0 0 0 / 8%);
  z-index: 10;
}

/* Responsive para móviles */
@media (width <= 640px) {
  .form-content-scrollable {
    padding: 0.75rem;
  }

  .form-actions-sticky {
    padding: 0.75rem;
  }

  .section-card {
    margin-bottom: 0.75rem;
  }
}

/* ========================================
   ESTILOS PRIMENG
   ======================================== */

/* Ajustes para PrimeNG InputNumber con icono */
:host ::ng-deep .p-inputnumber {
  width: 100%;
}

:host ::ng-deep .p-inputnumber-input {
  width: 100%;
  padding: 0.5rem;
  font-size: 0.813rem;
}

/* Ajustes para PrimeNG Dropdown */
:host ::ng-deep .p-dropdown {
  width: 100%;
}

:host ::ng-deep .p-dropdown .p-dropdown-label {
  padding: 0.5rem;
  font-size: 0.813rem;
}

/* Ajustes para PrimeNG Calendar */
:host ::ng-deep .p-calendar {
  width: 100%;
}

:host ::ng-deep .p-calendar .p-inputtext {
  width: 100%;
  padding: 0.5rem;
  font-size: 0.813rem;
}

/* Inputs estándar */
:host ::ng-deep .p-inputtext {
  padding: 0.5rem;
  font-size: 0.813rem;
}

/* Inputs con icono - mayor padding a la izquierda */
:host ::ng-deep input.p-inputtext.pl-10 {
  padding-left: 2.5rem;
}

:host ::ng-deep .p-inputnumber.pl-10 .p-inputnumber-input {
  padding-left: 2.5rem;
}

/* Mejoras visuales para estados de validación */
:host ::ng-deep .p-inputtext.ng-invalid.ng-dirty,
:host ::ng-deep .p-inputnumber.ng-invalid.ng-dirty .p-inputnumber-input,
:host ::ng-deep .p-dropdown.ng-invalid.ng-dirty,
:host ::ng-deep .p-calendar.ng-invalid.ng-dirty .p-inputtext {
  border-color: #ef4444;
}

:host ::ng-deep .p-inputtext:focus,
:host ::ng-deep .p-inputnumber-input:focus,
:host ::ng-deep .p-dropdown:not(.p-disabled).p-focus,
:host ::ng-deep .p-calendar .p-inputtext:focus {
  box-shadow: 0 0 0 2px rgb(59 130 246 / 20%);
  border-color: #3b82f6;
}

/* Animaciones suaves */
.space-y-1 > *,
.space-y-2 > *,
.space-y-3 > * {
  transition: all 0.2s ease-in-out;
}

/* Estilo para items del FormArray */
.bg-gray-50.border.border-gray-300 {
  transition: all 0.2s ease-in-out;
}

.bg-gray-50.border.border-gray-300:hover {
  border-color: #9ca3af;
  box-shadow: 0 1px 3px 0 rgb(0 0 0 / 10%);
}

/* Mejoras para botones pequeños */
:host ::ng-deep .p-button.p-button-sm {
  padding: 0.375rem 0.5rem;
  font-size: 0.75rem;
}

:host ::ng-deep .p-button.p-button-sm .p-button-icon {
  font-size: 0.75rem;
}

/* Botón de submit/aceptar con color brand primary */
:host ::ng-deep .p-button[type="submit"]:not(.p-button-secondary, .p-button-danger, .p-button-text),
:host ::ng-deep .p-button.p-button-success {
  background-color: var(--brand-primary-700, #00bbb8);
  border-color: var(--brand-primary-700, #00bbb8);
}

:host ::ng-deep .p-button[type="submit"]:not(.p-button-secondary, .p-button-danger, .p-button-text):hover:not(:disabled),
:host ::ng-deep .p-button.p-button-success:hover:not(:disabled) {
  background-color: var(--brand-primary-600, #009d9a);
  border-color: var(--brand-primary-600, #009d9a);
}

:host ::ng-deep .p-button[type="submit"]:not(.p-button-secondary, .p-button-danger, .p-button-text):active:not(:disabled),
:host ::ng-deep .p-button[type="submit"]:not(.p-button-secondary, .p-button-danger, .p-button-text):focus:not(:disabled),
:host ::ng-deep .p-button.p-button-success:active:not(:disabled),
:host ::ng-deep .p-button.p-button-success:focus:not(:disabled) {
  background-color: var(--brand-primary-700, #00bbb8);
  border-color: var(--brand-primary-700, #00bbb8);
  box-shadow: 0 0 0 0.2rem rgb(0 187 184 / 25%);
}

:host ::ng-deep .p-button[type="submit"]:disabled {
  background-color: var(--surface-300, #d1d5db);
  border-color: var(--surface-300, #d1d5db);
  opacity: 0.6;
}

/* Responsive adjustments */
@media (width <= 640px) {
  :host ::ng-deep .p-button {
    width: 100%;
    justify-content: center;
  }

  :host ::ng-deep .p-inputtext,
  :host ::ng-deep .p-inputnumber-input,
  :host ::ng-deep .p-dropdown .p-dropdown-label,
  :host ::ng-deep .p-calendar .p-inputtext {
    font-size: 0.75rem;
    padding: 0.4rem;
  }
}

/* Ajustes para textareas */
:host ::ng-deep textarea.p-inputtextarea {
  font-size: 0.813rem;
  line-height: 1.3;
  padding: 0.5rem;
}

/* Checkbox más compactos */
:host ::ng-deep .p-checkbox {
  width: 1rem;
  height: 1rem;
}

:host ::ng-deep .p-checkbox .p-checkbox-box {
  width: 1rem;
  height: 1rem;
}

:host ::ng-deep .p-checkbox .p-checkbox-icon {
  font-size: 0.625rem;
}
